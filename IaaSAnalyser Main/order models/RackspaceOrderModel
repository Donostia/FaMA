%Properties

costMonthPreDiscount
costMonthDiscount
costhMonth
upfrontCostPreDiscount
upfrontCostDiscount
upfrontCost
totalCostPreDiscount
totalCostDiscount
totalCost

## period is now a global property of the order
period


%Constraints

## Aggregation functions
## We need to link here Order properties to Configuration Models
costMonthPreDiscount == SUM(Configuration.costMonth);
upfrontCostPreDiscount == SUM(Computing.upfrontCost);
totalCostPreDiscount == SUM(Computing.totalCost);

## Discount definition
## ...
(PayInAdvance AND period >= 6 AND period < 12 AND costMonthPreDiscount >= 5000 AND costMonthPreDiscount < 10000) 
IMPLIES (costMonthDiscount== (costMonthPreDiscount - 5000)*0.11 + 350);
## ...

## Final costs
costMonth == costMonthPreDiscount - costMonthDiscount;
upfrontCost == upfrontCostPreDiscount - upfrontCostDiscount;
totalCost == totalCostPreDiscount - totalCostDiscount;
